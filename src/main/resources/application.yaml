spring:
  application:
    name: secret-key-project
    version: 1.0.0
  profiles:
    active: dev

---
spring:
  config:
    activate:
      on-profile: prod
    import: optional:file:.env[.properties]

  mongodb:
    uri: ${MONGO_URI}

server:
  forward-headers-strategy: framework  # Habilita detección de protocolo HTTPS en producción

jwt:
  secret: ${JWT_SECRET}
  expiration: 86400000  # 24 horas en milisegundos

springdoc:
  swagger-ui:
    path: /swagger-ui-custom.html

---
# Configuración para el perfil dev + docker
spring:
  config:
    activate:
      on-profile: dev
    #import: optional:file:.env[.properties]

  mongodb:
    uri: mongodb://mongo:mongo@mongodb:27017/secretkey?authSource=admin

jwt:
  secret: DHoEyF2VTNrYGafkeIP9LipcGfVkOt8SeBC9SjViYR8=
  expiration: 86400000

server:
  forward-headers-strategy: framework

springdoc:
  swagger-ui:
    path: /swagger-ui-custom.html

---
# Configuración para el perfil test
spring:
  config:
    activate:
      on-profile: test
    import: optional:file:.env[.properties]

  mongodb:
      # No especifico la uri porque será inyectada por @DynamicPropertySource
    auto-index-creation: true

jwt:
  secret: ${JWT_SECRET}
  expiration: 86400000